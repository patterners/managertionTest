{"version":3,"sources":["views/main/testpage/testList/index.tsx","webpack:///./src/views/main/testpage/testList/index.css?536d","views/main/testpage/testList/index.css"],"names":["Option","__WEBPACK_IMPORTED_MODULE_3_antd__","columns","title","dataIndex","formDate","time","Date","toLocaleString","replace","index","_super","props","_this","call","this","state","testPageList","testType","testTypeSelections","lessonType","lessonTypeSelections","subjectType","subjectTypeSelections","hangdleChangeValue","e","name","target","setState","_a","value","_b","handleToTestDetail","id","history","push","getTestPageList","bind","Object","__WEBPACK_IMPORTED_MODULE_0_tslib__","prototype","render","__WEBPACK_IMPORTED_MODULE_1_react__","className","showSearch","style","width","placeholder","optionFilterProp","onChange","length","map","item","exam_id","key","exam_name","subject_id","subject_text","type","onClick","handleTestQuestion","dataSource","size","componentDidMount","handle_testTypeSelections","handle_lessonTypeSelections","handle_subjectTypeSelections","console","log","obj","testPage","result","sent","exam","testMessage","addZero","num","second","differTime","end_time","start_time","JSON","parse","question_ids","class","grade_name","author","user_name","startTime","endTime","actions","addQuestion","getTestType","data","getLessonType","getSubjectType","__WEBPACK_IMPORTED_MODULE_4_mobx_react__","__webpack_exports__","content","__webpack_require__","module","i","options","hmr","transform","locals","exports","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/10.069b747d.chunk.js","sourcesContent":["import * as React from 'react'\r\nimport './index.css'\r\nimport { Table } from 'antd';\r\nimport { Form, Select, } from 'antd'\r\nimport { inject, observer } from 'mobx-react'\r\n\r\nconst { Option } = Select\r\nconst columns = [\r\n  {\r\n    title: '试卷信息',\r\n    dataIndex: 'testMessage',\r\n  },\r\n  {\r\n    title: '班级',\r\n    dataIndex: 'class',\r\n  },\r\n  {\r\n    title: '创建人',\r\n    dataIndex: 'author',\r\n  },\r\n  {\r\n    title: '开始时间',\r\n    dataIndex: 'startTime',\r\n  },\r\n  {\r\n    title: '结束时间',\r\n    dataIndex: 'endTime',\r\n  },\r\n  {\r\n    title: '操作',\r\n    dataIndex: 'actions',\r\n  },\r\n];\r\nconst formDate = (time: number) => {\r\n  const timestr = (new Date(time)).toLocaleString()\r\n  // const str = timestr.slice(0, 10) + ' ' + timestr.slice(12)\r\n  const str = timestr.replace(/[^0-9|\\/|:]/g, ' ')\r\n  return str\r\n}\r\nconst differTime = (time: number) => {\r\n  const addZero = (num: number) => {\r\n    return num ? `0${num}` : num\r\n  }\r\n  const hours = time / 1000 / 60 / 60 % 60 | 0\r\n  const minute = time / 1000 / 60 % 60 | 0\r\n  const second = time / 1000 % 60 | 0\r\n  return `${hours}:${addZero(minute)}:${addZero(second)}`\r\n}\r\n\r\n@inject('addQuestion', 'testPage')\r\n@observer\r\nclass index extends React.Component<any>{\r\n  constructor(props: any) {\r\n    super(props)\r\n    this.getTestPageList = this.getTestPageList.bind(this)\r\n  }\r\n  state = {\r\n    testPageList: [],\r\n    testType: '',\r\n    testTypeSelections: [],\r\n    lessonType: '',\r\n    lessonTypeSelections: [],\r\n    subjectType: '',\r\n    subjectTypeSelections: [],\r\n  }\r\n  render() {\r\n\r\n    const { testTypeSelections, lessonTypeSelections, testPageList } = this.state\r\n    return (\r\n      // <div className={styles.testList}>\r\n      <div className={'testList'}>\r\n        <h3>试卷列表</h3>\r\n        <header>\r\n          <p>考试类型：</p>\r\n          <Form>\r\n            <Select\r\n              showSearch\r\n              style={{ width: 200 }}\r\n              placeholder=\"Select a person\"\r\n              optionFilterProp=\"children\"\r\n              onChange={e => this.hangdleChangeValue(e, 'exam_id')}\r\n            >\r\n              {\r\n                testTypeSelections && testTypeSelections.length && testTypeSelections.map(\r\n                  (item: any, index: number) =>\r\n                    <Option value={item.exam_id} key={index}>\r\n                      {item.exam_name}\r\n                    </Option>\r\n                )\r\n              }\r\n            </Select>\r\n          </Form>\r\n          <p>课程 :</p>\r\n          <Form>\r\n            <Select\r\n              showSearch\r\n              style={{ width: 200 }}\r\n              placeholder=\"Select a person\"\r\n              optionFilterProp=\"children\"\r\n              onChange={e => this.hangdleChangeValue(e, 'lessonType')}\r\n            >{\r\n                lessonTypeSelections && lessonTypeSelections.map(\r\n                  (item: any, index) =>\r\n                    <Option value={item.subject_id} key={index}>\r\n                      {item.subject_text}\r\n                    </Option>\r\n                )\r\n              }</Select>\r\n          </Form>\r\n\r\n          <input type=\"button\" value=\"查询\" onClick={() => this.handleTestQuestion()} />\r\n          <li></li>\r\n        </header>\r\n\r\n        <div className=\"testList_main\">\r\n          <p className=\"title\">\r\n            <span>试卷列表</span>\r\n            {/* <button>全部</button>\r\n                        <button>进行中 </button>\r\n                        <button>已结束</button> */}\r\n          </p>\r\n          <Table columns={columns} dataSource={testPageList} size=\"middle\" />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.handle_testTypeSelections.bind(this)()\r\n    this.handle_lessonTypeSelections.bind(this)()\r\n    this.handle_subjectTypeSelections.bind(this)()\r\n    this.getTestPageList({})\r\n  }\r\n  // 分类试卷查询\r\n  async handleTestQuestion() {\r\n    console.log(this.state)\r\n    let obj = {}\r\n\r\n    // 添加筛选条件\r\n    // exam_exam_id\t  否\tstring\t试卷id\r\n    // subject_id\t    否\tstring\t学科id\r\n    // title\t        否\tstring\t试卷标题\r\n    // number\t        否\tnumber\t试卷试题数量\r\n    // start_time\t    否\tnumber\t考试开始时间\r\n    // end_time\t      否\tnumber\t考试结束时间\r\n    // page\t          否\tnumber\t当前页码，默认1\r\n    // pageSize\t      否\tnumber\t每页数据量，默认10\r\n\r\n    const { testType, lessonType, subjectType } = this.state\r\n    // testType ?obj.:null\r\n    // lessonType ?obj.:null\r\n    // subjectType?obj.:null\r\n\r\n    // 获取对应的试卷\r\n    this.getTestPageList(obj)\r\n  }\r\n\r\n  // 获取试卷列表\r\n  async getTestPageList(obj: object) {\r\n    const result = (await this.props.testPage.getTestPageList(obj)).exam\r\n    const testPageList = result.map((item: any, index: number) => {\r\n      return {\r\n        key: index,\r\n        testMessage: item.title + '考试时间：  ' + differTime(item.end_time - item.start_time) + \" \" + JSON.parse(item.question_ids).length + '道题  作弊0分',\r\n        class: '考试班级' + item.grade_name,\r\n        author: item.user_name,\r\n        startTime: formDate(+item.start_time),\r\n        endTime: formDate(+item.end_time),\r\n        actions: '详情'\r\n      }\r\n    })\r\n    //  处理数据后进行sst 并动态渲染\r\n    this.setState({ testPageList })\r\n    // \r\n  }\r\n\r\n  // 动态设置状态\r\n  hangdleChangeValue = (e: any, name: string) => {\r\n    if (e.target) {\r\n      this.setState({ [name]: e.target.value })\r\n    } else {\r\n      this.setState({ [name]: e })\r\n    }\r\n  }\r\n\r\n  // 请求试题类型数据\r\n  async handle_testTypeSelections() {\r\n    const testTypeSelections: [] = (await this.props.addQuestion.getTestType()).data\r\n    this.setState({ testTypeSelections })\r\n  }\r\n\r\n  // 请求课程类型数据\r\n  async handle_lessonTypeSelections() {\r\n    const lessonTypeSelections: [] = (await this.props.addQuestion.getLessonType()).data\r\n    this.setState({ lessonTypeSelections })\r\n  }\r\n\r\n  // 请求科目类型数据\r\n  async handle_subjectTypeSelections() {\r\n    const subjectTypeSelections: [] = (await this.props.addQuestion.getSubjectType()).data\r\n    this.setState({ subjectTypeSelections })\r\n  }\r\n\r\n  // 跳转试卷详情  回调\r\n  handleToTestDetail = (id: string) => {\r\n    this.props.history.push('')\r\n  }\r\n}\r\n\r\nexport default index\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/main/testpage/testList/index.tsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--1-oneOf-3-2!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./index.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/main/testpage/testList/index.css\n// module id = 1286\n// module chunks = 10","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".testList{padding-right:20px}.testList h3{line-height:100px;height:100px;font-size:25px}.testList header{padding:20px;padding-bottom:50px;display:-ms-flexbox;display:flex;background:#fff;margin-top:20px;margin-bottom:50px;border-radius:10px}.testList header input{color:#fff;background:#295eff;height:35px;line-height:35px;padding-left:40px;padding-right:40px;border:none;outline:none}.testList header li{-ms-flex:1 1;flex:1 1}.testList header p{margin-right:25px}.testList_main{background:#fff;padding:20px;margin-bottom:50px;border-radius:10px}\", \"\", {\"version\":3,\"sources\":[\"F:/I must success/managerTest/managertionTest/src/views/main/testpage/testList/index.css\"],\"names\":[],\"mappings\":\"AAAA,UAEE,kBAAoB,CACrB,AACD,aACE,kBAAmB,AACnB,aAAc,AACd,cAAgB,CACjB,AACD,iBACE,aAAc,AACd,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,gBAAiB,AACjB,gBAAiB,AACjB,mBAAoB,AACpB,kBAAoB,CACrB,AACD,uBACE,WAAY,AACZ,mBAAoB,AACpB,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,mBAAoB,AACpB,YAAa,AACb,YAAc,CACf,AACD,oBACE,aAAc,AACV,QAAU,CACf,AACD,mBACE,iBAAmB,CACpB,AACD,eACE,gBAAiB,AACjB,aAAc,AACd,mBAAoB,AACpB,kBAAoB,CACrB\",\"file\":\"index.css\",\"sourcesContent\":[\".testList {\\r\\n  /* background: blue; */\\r\\n  padding-right: 20px;\\r\\n}\\r\\n.testList h3 {\\r\\n  line-height: 100px;\\r\\n  height: 100px;\\r\\n  font-size: 25px;\\r\\n}\\r\\n.testList header {\\r\\n  padding: 20px;\\r\\n  padding-bottom: 50px;\\r\\n  display: -ms-flexbox;\\r\\n  display: flex;\\r\\n  background: #fff;\\r\\n  margin-top: 20px;\\r\\n  margin-bottom: 50px;\\r\\n  border-radius: 10px;\\r\\n}\\r\\n.testList header input {\\r\\n  color: #fff;\\r\\n  background: #295eff;\\r\\n  height: 35px;\\r\\n  line-height: 35px;\\r\\n  padding-left: 40px;\\r\\n  padding-right: 40px;\\r\\n  border: none;\\r\\n  outline: none;\\r\\n}\\r\\n.testList header li {\\r\\n  -ms-flex: 1 1;\\r\\n      flex: 1 1;\\r\\n}\\r\\n.testList header p {\\r\\n  margin-right: 25px;\\r\\n}\\r\\n.testList_main {\\r\\n  background: #fff;\\r\\n  padding: 20px;\\r\\n  margin-bottom: 50px;\\r\\n  border-radius: 10px;\\r\\n}\\r\\n/*\\r\\n// :global {\\r\\n//   .login-form {\\r\\n//     max-width: 300px;\\r\\n//   }\\r\\n\\r\\n//   .login-form-forgot {\\r\\n//     float: right;\\r\\n//   }\\r\\n\\r\\n//   .login-form-button {\\r\\n//     width: 100%;\\r\\n//   }\\r\\n// }\\r\\n\\r\\n// :local {\\r\\n//   .testList {\\r\\n//     background: blue;\\r\\n//   }\\r\\n//   .register {\\r\\n//     color: red;\\r\\n//   }\\r\\n\\r\\n//   .active {\\r\\n//     composes: register;\\r\\n//     font-size: 100px;\\r\\n//   }\\r\\n// }\\r\\n*/\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/views/main/testpage/testList/index.css\n// module id = 1287\n// module chunks = 10"],"sourceRoot":""}