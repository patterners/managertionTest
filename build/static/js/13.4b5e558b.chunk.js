webpackJsonp([13],{1148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(41),r=n(1284),s=(n.n(r),n(0)),i=(n.n(s),n(223)),l=n(224),o=n(20),d=l.k.Option,c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={startValue:null,endValue:null,endOpen:!1,userInfo:null,exam_id:"",subject_id:"",number:4,title:"",subjectType:[],lessonType:[]},n.hangdleChangeValue=function(e,t){var a,r;e.target?n.setState(((a={})[t]=e.target.value,a)):n.setState(((r={})[t]=e,r))},n.disabledStartDate=function(e){var t=n.state.endValue;return!(!e||!t)&&e.valueOf()>t.valueOf()},n.disabledEndDate=function(e){var t=n.state.startValue;return!(!e||!t)&&e.valueOf()<=t.valueOf()},n.onChange=function(e,t){var a;n.setState(((a={})[e]=t,a))},n.onStartChange=function(e){n.onChange("startValue",e)},n.onEndChange=function(e){n.onChange("endValue",e)},n.handleStartOpenChange=function(e){e||n.setState({endOpen:!0})},n.handleEndOpenChange=function(e){n.setState({endOpen:e})},n.handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){if(!e){var n=t["range-picker"],r=t["range-time-picker"],s=Object(a.a)(Object(a.a)({},t),{"date-picker":t["date-picker"].format("YYYY-MM-DD"),"date-time-picker":t["date-time-picker"].format("YYYY-MM-DD HH:mm:ss"),"month-picker":t["month-picker"].format("YYYY-MM"),"range-picker":[n[0].format("YYYY-MM-DD"),n[1].format("YYYY-MM-DD")],"range-time-picker":[r[0].format("YYYY-MM-DD HH:mm:ss"),r[1].format("YYYY-MM-DD HH:mm:ss")],"time-picker":t["time-picker"].format("HH:mm:ss")});console.log("Received values of form: ",s)}})},n.handle_start_time=function(e){console.log(e)},n.handle_end_time=function(e){console.log(e._d)},n.getDefaultData=n.getDefaultData.bind(n),n.handleAddTest=n.handleAddTest.bind(n),n}return Object(a.d)(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.startValue,r=t.endValue,i=t.endOpen,o=t.title,c=(t.userInfo,t.subjectType),u=t.lessonType,m=t.number;return s.createElement("div",null,s.createElement("h2",null,"\u6dfb\u52a0\u8003\u8bd5"),s.createElement("div",{className:"addtest"},s.createElement("div",{className:"form-box"},s.createElement(l.d,Object(a.a)({},{wrapperCol:{xs:{span:24},sm:{span:16}}},{onSubmit:this.handleSubmit}),s.createElement("div",{className:"time"},s.createElement("h3",null,s.createElement("b",null,"*"),"\u8bd5\u5377\u540d\u79f0"),s.createElement(l.f,{value:o,onChange:function(t){return e.hangdleChangeValue(t,"title")}})),s.createElement("div",{className:"time"},s.createElement("h3",null,s.createElement("b",null,"*"),"\u9009\u62e9\u8003\u8bd5\u7c7b\u578b"),s.createElement(l.k,{onChange:function(t){return e.hangdleChangeValue(t,"exam_id")}},c.length&&c.map(function(e){return s.createElement(d,{key:e.exam_id,value:e.exam_id},e.exam_name)}))),s.createElement("div",{className:"time"},s.createElement("h3",null,s.createElement("b",null,"*"),"\u9009\u62e9\u8bfe\u7a0b"),s.createElement(l.k,{onChange:function(t){return e.hangdleChangeValue(t,"subject_id")}},u.length&&u.map(function(e){return s.createElement(d,{key:e.subject_id,value:e.subject_id},e.subject_text)}))),s.createElement("div",{className:"time"},s.createElement("h3",null,s.createElement("b",null,"*"),"\u8bbe\u7f6e\u9898\u91cf"),s.createElement(l.g,{onChange:function(t){return e.hangdleChangeValue(t,"number")},value:m,min:1,max:10})),s.createElement("div",{className:"time"},s.createElement("h3",null,"\u8003\u8bd5\u65f6\u95f4"),s.createElement(l.c,{disabledDate:this.disabledStartDate,showTime:!0,format:"YYYY-MM-DD HH:mm:ss",value:n,placeholder:"Start Time",onChange:this.onStartChange,onOpenChange:this.handleStartOpenChange,onOk:this.handle_start_time}),s.createElement(l.c,{disabledDate:this.disabledEndDate,showTime:!0,format:"YYYY-MM-DD HH:mm:ss",value:r,placeholder:"End Time",onChange:this.onEndChange,open:i,onOpenChange:this.handleEndOpenChange,onOk:this.handle_end_time})),s.createElement(l.d.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},s.createElement(l.a,{className:"button",type:"primary",htmlType:"submit",onClick:this.handleAddTest},"\u521b\u5efa\u8bd5\u5377"))))))},t.prototype.componentDidMount=function(){this.getDefaultData()},t.prototype.componentWillUnmount=function(){this.state=null},t.prototype.getDefaultData=function(){return Object(a.b)(this,void 0,void 0,function(){var e,t,n;return Object(a.e)(this,function(a){switch(a.label){case 0:return[4,this.props.addQuestion.getUsernfo()];case 1:return e=a.sent().data,[4,this.props.addQuestion.getTestType()];case 2:return t=a.sent().data,[4,this.props.addQuestion.getLessonType()];case 3:return n=a.sent().data,this.setState({userInfo:e,subjectType:t,lessonType:n}),[2]}})})},t.prototype.handleAddTest=function(){return Object(a.b)(this,void 0,void 0,function(){var e,t,n,r,s,i,d,c,u,m,h;return Object(a.e)(this,function(a){switch(a.label){case 0:return console.log(this.state),e=this.state,t=e.title,n=e.number,r=e.exam_id,s=e.endValue,i=e.subject_id,d=e.startValue,c=+o(d).format("x"),u=+o(s).format("x"),m={subject_id:i,exam_id:r,title:t,number:n,start_time:c,end_time:u},[4,this.props.testPage.addTestPage(m)];case 1:return h=a.sent(),console.log(h),1===h.code&&(l.n.success(h.msg),this.props.history.push("/main/testList")),[2]}})})},t=Object(a.c)([Object(i.b)("testPage","addQuestion"),i.c,Object(a.f)("design:paramtypes",[Object])],t)}(s.Component);t.default=l.d.create()(c)},1284:function(e,t,n){var a=n(1285);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!1,transform:void 0};n(1135)(a,r);a.locals&&(e.exports=a.locals)},1285:function(e,t,n){(e.exports=n(1134)(!0)).push([e.i,"h2{width:100%;height:80px;line-height:80px;padding-left:5px}.addtest{background:#fff;width:95%;height:auto;border-radius:5px;margin-left:50%;-webkit-transform:translate(-50%);-ms-transform:translate(-50%);transform:translate(-50%);padding-top:20px}.time{height:100px;width:100%;padding:0 24px}.time h3 b{color:red;padding:10px}","",{version:3,sources:["F:/I must success/managerTest/managertionTest/src/views/main/testpage/addTestPage/addtest.css"],names:[],mappings:"AAAA,GACI,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,gBAAkB,CACnB,AACD,SACI,gBAAiB,AACjB,UAAW,AACX,YAAa,AACb,kBAAmB,AACnB,gBAAiB,AACjB,kCAAmC,AAC/B,8BAA+B,AAC3B,0BAA2B,AACnC,gBAAkB,CACrB,AACH,MACI,aAAc,AACd,WAAY,AACZ,cAAgB,CACnB,AACD,WACI,UAAU,AACV,YAAc,CACjB",file:"addtest.css",sourcesContent:["h2 {\r\n    width: 100%;\r\n    height: 80px;\r\n    line-height: 80px;\r\n    padding-left: 5px;\r\n  }\r\n  .addtest{\r\n      background: #fff;\r\n      width: 95%;\r\n      height: auto;\r\n      border-radius: 5px;\r\n      margin-left: 50%;\r\n      -webkit-transform: translate(-50%);\r\n          -ms-transform: translate(-50%);\r\n              transform: translate(-50%);\r\n      padding-top: 20px;\r\n  }\r\n.time{\r\n    height: 100px;\r\n    width: 100%;\r\n    padding: 0 24px;\r\n}\r\n.time h3 b{\r\n    color:red;\r\n    padding: 10px;\r\n}"],sourceRoot:""}])}});
//# sourceMappingURL=13.4b5e558b.chunk.js.map